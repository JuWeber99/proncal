(this.webpackJsonpresch1=this.webpackJsonpresch1||[]).push([[0],{107:function(e,t,n){},109:function(e,t,n){},114:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),o=n.n(c),l=n(11),i=n(49),s=n(9),u=n.n(s),d=(n(88),n(46)),m=n.n(d),f=n(68),v=n(78),E=n(69),h=n.n(E),b=n(70),p=n(35),g=function(){function e(){Object(b.a)(this,e)}return Object(p.a)(e,null,[{key:"mergeAssociatedEvents",value:function(e){return e.forEach((function(t,n){if(n!==e.length&&0!==n)for(;e[n].summary===e[n-1].summary&&u()(e[n].dtend).date()===u()(e[n-1].dtend).date();)e[n-1].dtend=e[n].dtend,e.splice(n,1)})),e}},{key:"transformToApiEvent",value:function(e){return e.map((function(e){return{allDay:!1,title:e.summary.replace(/\\;/g," | "),start:u()(e.dtstart).toDate(),end:u()(e.dtend).toDate()}}))}}]),e}(),O=u()();O.locale("de");var j,x={isLoading:!1,eventData:[],dateContext:O,today:O.date(),month:O.month()+1,year:O.year(),setIsLoading:function(e){},setEventData:function(e){},setDateContext:function(e){},setToday:function(e){},setMonth:function(e){},setYear:function(e){}},y=r.a.createContext(x),D=function(){return Object(a.useContext)(y)},w=(n(107),n(108),n(109),n(119)),k=n(120),A=n(116),S=n(71),C=n.n(S),I=n(121),L=r.a.createContext({index:0,setIndex:function(e){}}),N=function(){return Object(a.useContext)(L)},Y=function(e){var t=e.children,n=Object(a.useState)(0),c=Object(l.a)(n,2),o=c[0],i=c[1];return r.a.createElement(L.Provider,{value:{index:o,setIndex:i}},t)},M=function(e){var t=e.content,n=N().index;return r.a.createElement(I.a,{className:"carousel",activeIndex:n,interval:null,prevIcon:null,nextIcon:null,indicators:!1,controls:!1,touch:!0},t.map((function(e,t){return r.a.createElement(I.a.Item,null,e)})))};!function(e){e[e.HOMEPAGE=0]="HOMEPAGE",e[e.CALENDAR=1]="CALENDAR"}(j||(j={}));var R=function(){var e=N(),t=e.index,n=e.setIndex;return r.a.createElement(w.a,{bg:"dark",variant:"dark",sticky:"top",as:"div",style:{padding:"1rem",boxShadow:"0 0.2rem 0.3rem 0 "}},r.a.createElement(w.a.Brand,{onClick:function(){t===j.CALENDAR&&n(t-1)}},r.a.createElement("img",{alt:"failed to load logo",src:C.a,width:"30",height:"30",className:"d-inline-block align-top mr-4"}),"HWR Berlin - Stundenplan"),t===j.CALENDAR&&r.a.createElement(k.a.Link,null,r.a.createElement(A.a,{onClick:function(){return n(t-1)}},"Zur\xfcck")))},B=n(117),H=n(118),P=n(74),T=n.n(P),G=function(){var e=N(),t=e.setIndex,n=e.index,a=document.getElementById("homepage-presentment-button");return console.log(null===a||void 0===a?void 0:a.classList.contains("hover")),r.a.createElement(B.a,{className:"home-container"},r.a.createElement(H.a,{className:"homepage-presentment-container"},r.a.createElement("div",{id:"homepage-presentment-text"},r.a.createElement("h1",null,"HWR - Kalender"),r.a.createElement("h4",null," Dein moderner Stundenplan "),r.a.createElement("h5",null," Immer, \xdcberall ")),r.a.createElement("div",{id:"homepage-presentment-button",onClick:function(){n===j.HOMEPAGE&&t(n+1)}},r.a.createElement("img",{src:T.a,alt:"Fehler beim laden des logos",className:"calendar-icon"}))))},W=n(75),F=n(26),z=[r.a.createElement(G,null),r.a.createElement((function(e){var t=e.children,n=Object(a.useState)([]),c=Object(l.a)(n,2),o=c[0],i=c[1],s=Object(a.useState)(O),u=Object(l.a)(s,2),d=u[0],E=u[1],b=Object(a.useState)(O.date()),p=Object(l.a)(b,2),j=p[0],x=p[1],D=Object(a.useState)(O.month()+1),w=Object(l.a)(D,2),k=w[0],A=w[1],S=Object(a.useState)(O.year()),C=Object(l.a)(S,2),I=C[0],L=C[1],N=Object(a.useState)(!1),Y=Object(l.a)(N,2),M={isLoading:Y[0],eventData:o,dateContext:d,today:j,month:k,year:I},R={setIsLoading:Y[1],setEventData:i,setDateContext:E,setToday:x,setMonth:A,setYear:L},B=Object(v.a)({},M,{},R);return Object(a.useEffect)((function(){return console.log("provider update"),function(){return console.log("provider cleanup")}})),Object(a.useEffect)((function(){function e(){return(e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.request({method:"GET",url:"https://hwr-wi-204.sagebiels.org/api/v1/events"});case 2:t=e.sent,console.log(t),i(g.mergeAssociatedEvents(t.data));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){return e.apply(this,arguments)}().catch((function(e){console.log(e)})),function(){console.log("unmount")}}),[]),r.a.createElement(y.Provider,{value:B},t,console.log("paint provider"))}),null,r.a.createElement((function(){var e=D().eventData,t=Object(i.b)(u.a),n=Object(a.useState)(void 0),c=Object(l.a)(n,2),o=c[0],s=c[1];return Object(a.useEffect)((function(){s(g.transformToApiEvent(e))}),[e]),r.a.createElement("div",null,o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{localizer:t,events:o,defaultView:"week",views:["day","week"],endAccessor:"end",startAccessor:"start",timeslots:12,step:5,min:new Date(1,1,1,8),max:new Date(1,1,1,22),components:{event:function(e){return t=e,r.a.createElement("div",{className:"event-card"},t.title);var t}}})))}),null),r.a.createElement((function(){var e=D(),t=e.eventData,n=e.isLoading,c=Object(a.useState)(),o=Object(l.a)(c,2),i=o[0],s=o[1],d=Object(a.useState)(),m=Object(l.a)(d,2),f=m[0],v=m[1],E=Object(a.useState)(),h=Object(l.a)(E,2),b=h[0],p=h[1];return Object(a.useEffect)((function(){void 0!==t[0]&&(s(u()(t[0].dtstart)),v(u()(t[t.length-1].dtend)),p(u()(t[t.length-1].dtend).from(u()(t[0].dtstart),!0)))}),[n,t]),r.a.createElement("div",null,console.log("paint meta"),console.log(b),!n&&void 0!==f&&void 0!==i&&r.a.createElement("div",{className:"calendar-metadata-container"},r.a.createElement("h5",null,"Semesterstart: ",r.a.createElement("b",null,null===i||void 0===i?void 0:i.format("DD.MM.YYYY")))," |",r.a.createElement("h5",null,"Semesterende: ",r.a.createElement("b",null,null===f||void 0===f?void 0:f.format("DD.MM.YYYY")))," |",r.a.createElement("h5",null,"Zeit bis zum Semesterende: ",r.a.createElement("b",null,b))))}),null))],J=function(){return r.a.createElement(W.a,{basename:"/proncal"},r.a.createElement(F.a,{exact:!0,path:"/"},r.a.createElement(Y,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null),r.a.createElement(M,{content:z})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},71:function(e,t,n){e.exports=n.p+"static/media/hwr-logo-alt.244061df.svg"},74:function(e,t,n){e.exports=n.p+"static/media/calendar2.b033291c.svg"},80:function(e,t,n){e.exports=n(114)}},[[80,1,2]]]);
//# sourceMappingURL=main.20ec2521.chunk.js.map