(this.webpackJsonpresch1=this.webpackJsonpresch1||[]).push([[0],{107:function(e,t,n){},109:function(e,t,n){},114:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(7),c=n.n(r),l=n(11),i=n(49),s=n(9),u=n.n(s),d=(n(88),n(46)),m=n.n(d),f=n(68),v=n(78),h=n(69),E=n.n(h),p=n(70),g=n(35),b=function(){function e(){Object(p.a)(this,e)}return Object(g.a)(e,null,[{key:"mergeAssociatedEvents",value:function(e){return e.forEach((function(t,n){if(n!==e.length&&0!==n)for(;e[n].summary===e[n-1].summary&&u()(e[n].dtend).date()===u()(e[n-1].dtend).date();)e[n-1].dtend=e[n].dtend,e.splice(n,1)})),e}},{key:"transformToApiEvent",value:function(e){return e.map((function(e){return{allDay:!1,title:e.summary.replace(/\\;/g," | "),start:u()(e.dtstart).toDate(),end:u()(e.dtend).toDate()}}))}}]),e}(),w=u()();w.locale("de");var O,j={isLoading:!1,eventData:[],dateContext:w,today:w.date(),month:w.month()+1,year:w.year(),setIsLoading:function(e){},setEventData:function(e){},setDateContext:function(e){},setToday:function(e){},setMonth:function(e){},setYear:function(e){}},x=o.a.createContext(j),y=function(){return Object(a.useContext)(x)},k=(n(107),n(108),n(109),n(119)),A=n(120),D=n(116),S=n(71),C=n.n(S),I=n(121),L=o.a.createContext({index:0,setIndex:function(e){}}),N=function(){return Object(a.useContext)(L)},W=function(e){var t=e.children,n=Object(a.useState)(0),r=Object(l.a)(n,2),c=r[0],i=r[1];return o.a.createElement(L.Provider,{value:{index:c,setIndex:i}},t)},Y=function(e){var t=e.content,n=N().index;return o.a.createElement(I.a,{className:"carousel",activeIndex:n,interval:null,prevIcon:null,nextIcon:null,indicators:!1,controls:!1,touch:!0},t.map((function(e,t){return o.a.createElement(I.a.Item,null,e)})))};!function(e){e[e.HOMEPAGE=0]="HOMEPAGE",e[e.CALENDAR=1]="CALENDAR"}(O||(O={}));var M=function(){var e=N(),t=e.index,n=e.setIndex;return o.a.createElement(k.a,{bg:"dark",variant:"dark",sticky:"top",as:"div",style:{padding:"1rem",boxShadow:"0 0.2rem 0.3rem 0 "}},o.a.createElement(k.a.Brand,{onClick:function(){t===O.CALENDAR&&n(t-1)}},o.a.createElement("img",{alt:"failed to load logo",src:C.a,width:"30",height:"30",className:"d-inline-block align-top mr-4"}),"HWR Berlin - Stundenplan"),t===O.CALENDAR&&o.a.createElement(A.a.Link,null,o.a.createElement(D.a,{onClick:function(){return n(t-1)}},"Zur\xfcck")))},R=n(117),P=n(118),T=n(74),B=n.n(T),H=function(){var e=N(),t=e.setIndex,n=e.index,a=document.getElementById("homepage-presentment-button");return console.log(null===a||void 0===a?void 0:a.classList.contains("hover")),o.a.createElement(R.a,{className:"home-container"},o.a.createElement(P.a,{className:"homepage-presentment-container"},o.a.createElement("div",{id:"homepage-presentment-text"},o.a.createElement("h1",null,"HWR - Kalender"),o.a.createElement("h4",null," Dein moderner Stundenplan "),o.a.createElement("h5",null," Immer, \xdcberall ")),o.a.createElement("div",{id:"homepage-presentment-button",onClick:function(){n===O.HOMEPAGE&&t(n+1)}},o.a.createElement("img",{src:B.a,alt:"Fehler beim laden des logos",className:"calendar-icon"}))))},G=n(75),F=n(26),U=[o.a.createElement(H,null),o.a.createElement((function(e){var t=e.children,n=Object(a.useState)([]),r=Object(l.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(w),u=Object(l.a)(s,2),d=u[0],h=u[1],p=Object(a.useState)(w.date()),g=Object(l.a)(p,2),O=g[0],j=g[1],y=Object(a.useState)(w.month()+1),k=Object(l.a)(y,2),A=k[0],D=k[1],S=Object(a.useState)(w.year()),C=Object(l.a)(S,2),I=C[0],L=C[1],N=Object(a.useState)(!1),W=Object(l.a)(N,2),Y={isLoading:W[0],eventData:c,dateContext:d,today:O,month:A,year:I},M={setIsLoading:W[1],setEventData:i,setDateContext:h,setToday:j,setMonth:D,setYear:L},R=Object(v.a)({},Y,{},M);return Object(a.useEffect)((function(){return console.log("provider update"),function(){return console.log("provider cleanup")}})),Object(a.useEffect)((function(){function e(){return(e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.request({method:"GET",url:"https://hwr-wi-204.sagebiels.org/api/v1/events"});case 2:t=e.sent,console.log(t),i(b.mergeAssociatedEvents(t.data));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){return e.apply(this,arguments)}().catch((function(e){console.log(e)})),function(){console.log("unmount")}}),[]),o.a.createElement(x.Provider,{value:R},t,console.log("paint provider"))}),null,o.a.createElement((function(){var e=y().eventData,t=Object(i.b)(u.a),n=Object(a.useState)(void 0),r=Object(l.a)(n,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){s(b.transformToApiEvent(e))}),[e]),o.a.createElement("div",null,c&&o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,{localizer:t,events:c,defaultView:"week",views:["day","week"],endAccessor:"end",startAccessor:"start",timeslots:12,step:5,min:new Date(1,1,1,8),max:new Date(1,1,1,22),components:{event:function(e){return t=e,o.a.createElement("div",{className:"event-card"},t.title);var t}}})))}),null),o.a.createElement((function(){var e=y(),t=e.eventData,n=e.isLoading,r=Object(a.useState)(),c=Object(l.a)(r,2),i=c[0],s=c[1],d=Object(a.useState)(),m=Object(l.a)(d,2),f=m[0],v=m[1],h=Object(a.useState)(),E=Object(l.a)(h,2),p=E[0],g=E[1];return Object(a.useEffect)((function(){void 0!==t[0]&&(s(u()(t[0].dtstart)),v(u()(t[t.length-1].dtend)),g(u()(t[t.length-1].dtend).from(u()(t[0].dtstart),!0)))}),[n,t]),o.a.createElement("div",null,console.log("paint meta"),console.log(p),!n&&void 0!==f&&void 0!==i&&o.a.createElement("div",{className:"calendar-metadata-container"},o.a.createElement("h5",null,"Semesterstart: ",o.a.createElement("b",null,null===i||void 0===i?void 0:i.format("DD.MM.YYYY")))," |",o.a.createElement("h5",null,"Semesterende: ",o.a.createElement("b",null,null===f||void 0===f?void 0:f.format("DD.MM.YYYY")))," |",o.a.createElement("h5",null,"Zeit bis zum Semesterende: ",o.a.createElement("b",null,p))))}),null))],z=function(){return o.a.createElement(G.a,{basename:"/proncal"},o.a.createElement(F.a,{exact:!0,path:"/"},o.a.createElement(W,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(M,null),o.a.createElement(Y,{content:U})))))},J=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Z(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(o.a.createElement(z,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/proncal",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/proncal","/service-worker.js");J?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Z(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Z(t,e)}))}}()},71:function(e,t,n){e.exports=n.p+"static/media/hwr-logo-alt.244061df.svg"},74:function(e,t,n){e.exports=n.p+"static/media/calendar2.b033291c.svg"},80:function(e,t,n){e.exports=n(114)}},[[80,1,2]]]);
//# sourceMappingURL=main.4ac06860.chunk.js.map